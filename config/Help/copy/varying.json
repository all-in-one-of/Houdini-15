{"body": [{"indent": 0, "text": ["Varying copies/instances"], "type": "title", "extent": [0, 29], "level": 0}, {"body": [{"indent": 0, "type": "para", "extent": [45, 298], "text": ["Most of the time, when you're creating copies and instances, such as a forest of trees or a crowd of soldiers, you want variations between the copies/instances (unless you're building an army of clones). There are several ways to do this in Houdini."]}], "indent": 0, "level": 2, "text": ["Overview"], "extent": [29, 45], "container": true, "type": "h", "id": null}, {"body": [{"indent": 0, "type": "para", "extent": [321, 568], "text": [{"text": ["Attributes"], "fullpath": "/model/attributes", "scheme": null, "type": "link", "value": "/model/attributes"}, " are pieces of data attached to primitives (e.g. polygons) or points. When you copy or instance geometry onto points, Houdini looks for specific attributes on the destination points to customize each copy/instance."]}, {"indent": 0, "type": "para", "extent": [568, 663], "text": ["See ", {"text": ["point attributes related to copying and instancing"], "fullpath": "/copy/instanceattrs", "scheme": null, "type": "link", "value": "instanceattrs"}, " for more information."]}], "indent": 0, "level": 2, "text": ["Point attributes"], "extent": [298, 321], "container": true, "type": "h", "id": null}, {"body": [{"indent": 0, "type": "para", "extent": [694, 845], "text": ["When you're copying geometry onto points, you can ", {"fragment": "#foreach", "text": ["vary the geometry per-copy"], "value": "copytopoints#foreach", "fullpath": "/copy/copytopoints#foreach", "scheme": null, "type": "link"}, " by using Copy to Points inside a For-Each loop."]}], "indent": 0, "level": 2, "text": ["Copy to Points in a loop"], "extent": [663, 694], "container": true, "type": "h", "id": null}, {"body": [{"indent": 0, "type": "para", "extent": [876, 1104], "text": ["When you're instancing objects, you can use the ", {"text": "", "value": "/expressions/instancepoint", "fallback_text": "instancepoint()", "fullpath": "/expressions/instancepoint", "scheme": "Exp", "type": "link"}, " expression function to vary object parameters (such as transforms) per instance. It returns the point number of the point the object is being instanced onto."]}, {"indent": 0, "type": "para", "extent": [1104, 1257], "text": ["Because instancing only works at the object level, ", {"text": "", "value": "/expressions/instancepoint", "fallback_text": "instancepoint()", "fullpath": "/expressions/instancepoint", "scheme": "Exp", "type": "link"}, " is only valid in parameter expressions on objects. See ", {"text": ["instancing"], "fullpath": "/copy/instancing", "scheme": null, "type": "link", "value": "instancing"}, "."]}], "indent": 0, "level": 2, "text": [{"text": ["instancepoint"], "type": "code"}, " function"], "extent": [845, 876], "container": true, "type": "h", "id": null}, {"body": [{"indent": 0, "type": "para", "extent": [1283, 1608], "text": ["The ", {"text": ["delayed load shader"], "fullpath": "/copy/delayedload", "scheme": null, "type": "link", "value": "delayedload"}, " replaces an object\u2019s geometry with geometry loaded from disk at render time. You can create multiple geometry archives representing different instance variations, and switch between them per-instance by overriding the material parameter that specifies which geometry archive to load."]}], "indent": 0, "level": 2, "text": ["Delayed load shader"], "extent": [1257, 1283], "container": true, "type": "h", "id": null}, {"body": [{"indent": 0, "type": "para", "extent": [1634, 1889], "text": ["Since you can vary parameters on the object\u2019s material (or switch materials completely) per instance, you can vary the displacement shader. With clever displacement maps you can use this to do limited \"modeling\" of the instances to vary their geometry."]}, {"indent": 0, "type": "para", "extent": [1889, 2044], "text": ["For example, you could instance flat squares, and use various displacement maps to extrude them into different shapes, such as a cityscape of buildings."]}], "indent": 0, "level": 2, "text": ["Displacement shader"], "extent": [1608, 1634], "container": true, "type": "h", "id": null}, {"body": [{"body": [{"indent": 0, "blevel": 2, "type": "bullet", "extent": [2053, 2089], "text": [{"text": ["Copying to points"], "fullpath": "/copy/copytopoints", "scheme": null, "type": "link", "value": "copytopoints"}]}, {"indent": 0, "blevel": 2, "type": "bullet", "extent": [2089, 2115], "text": [{"text": ["Instancing"], "fullpath": "/copy/instancing", "scheme": null, "type": "link", "value": "instancing"}]}], "container": true, "type": "bullet_group"}], "indent": 0, "level": 1, "text": "Related", "role": "section", "extent": [2044, 2053], "container": true, "type": "related_section", "id": "related"}], "type": "root", "attrs": {}, "title": ["Varying copies/instances"]}