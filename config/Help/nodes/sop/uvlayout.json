{"body": [{"indent": 0, "text": ["UV Layout"], "type": "title", "extent": [0, 14], "level": 0}, {"indent": 0, "type": "summary", "extent": [126, 184], "text": ["Packs UV islands efficiently into a limited area."]}, {"body": [{"indent": 0, "type": "para", "extent": [199, 611], "text": ["UV Layout tightly packs UV islands into texture tiles. UV Layout can tightly pack any set of 2D profiles (islands) into any other set of 2D profiles (targets), without any restrictions on the number or size of islands or targets or the attributes that describe them. Islands can be assigned to specific targets or left un-assigned so that UV Layout can choose a target for them that allows a tightest packing."]}, {"indent": 0, "type": "para", "extent": [611, 788], "text": ["This node can pack into different categories of ", {"text": ["targets"], "type": "em"}, ": a single UV unit (", {"text": ["0,0"], "type": "code"}, " to ", {"text": ["1,1"], "type": "code"}, "), one or more rectangles with arbitrary size and positions, or ", {"fragment": "#udim", "text": ["UDIM tiles"], "value": "#udim", "fullpath": "/nodes/sop/uvlayout#udim", "scheme": null, "type": "link"}, ", "]}, {"body": [{"body": [{"indent": 4, "type": "para", "extent": [794, 843], "text": [{"text": "", "fullpath": "/images/nodes/sop/uvlayout_after.jpg", "scheme": "Image", "type": "link", "value": "/images/nodes/sop/uvlayout_after.jpg"}]}], "indent": 0, "role": "item", "type": "col", "extent": [788, 794]}, {"body": [{"indent": 4, "type": "para", "extent": [849, 901], "text": [{"text": "", "fullpath": "/images/nodes/sop/uvlayout_detail.jpg", "scheme": "Image", "type": "link", "value": "/images/nodes/sop/uvlayout_detail.jpg"}]}], "indent": 0, "role": "item", "type": "col", "extent": [843, 849]}], "container": true, "role": "item_group", "type": "col_group"}], "indent": 0, "level": 2, "text": ["Overview"], "extent": [184, 199], "container": true, "type": "h", "id": null}, {"body": [{"indent": 0, "type": "para", "extent": [925, 1168], "text": ["UDIM is a convention for labeling unit squares in the UV texture space grid. It makes it easier to refer to specific squares, and to match up texture files to specific grid squares by putting the UDIM number in the filename. It numbers the "]}, {"indent": 0, "type": "para", "extent": [1168, 1362], "text": ["The typical Udim grid has unit square cells, is 10 cells wide, and its lower-left cell has number 1001. (You can customize all of these conventions using parameters on this node if necessary.)"]}, {"indent": 0, "type": "para", "extent": [1362, 1392], "text": [{"text": "", "fullpath": "/images/uv/udim.svg", "scheme": "Image", "type": "link", "value": "/images/uv/udim.svg"}]}], "indent": 0, "level": 2, "text": ["UDIM tiles"], "extent": [901, 925], "container": true, "type": "h", "id": "udim"}, {"body": [{"indent": 0, "type": "para", "extent": [1424, 1626], "text": ["With the node selected, you can press ", {"keys": ["Enter"], "text": null, "type": "keys"}, " in the viewer to get the node\u2019s ", {"text": "", "fullpath": "/nodes/sop/TOOL/handles", "scheme": "Icon", "type": "link", "value": "TOOL/handles"}, " handles state. In the node\u2019s state, you can interactively apply overrides to islands in the viewer."]}, {"indent": 0, "type": "para", "extent": [1626, 1871], "text": ["Select an island in the viewer, and then use the Override menu in the top to choose whether to override the island\u2019s target, scale, or orthagonal offset. Set the override value using the text box/slider next to the menu, then click ", {"text": ["Apply"], "type": "ui"}, "."]}], "indent": 0, "level": 2, "text": ["Interactive state"], "extent": [1392, 1424], "container": true, "type": "h", "id": "state"}, {"body": [{"indent": 0, "type": "para", "extent": [1903, 2168], "text": ["Technically you can use ", {"text": ["any"], "type": "em"}, " vector3-type point or vertex attribute to describe islands or targets, and choose a projection (XY, YZ, or ZX) to pack onto. (The projection is always \"XY\" for texture attributes, with X and Y corresponding to U and V in UVW space.)"]}, {"indent": 0, "type": "para", "extent": [2168, 2505], "text": ["You can define targets the same way you define islands, but based on the geometry in the second input. In other words, the targets will be profiles of the pieces of the geometry in a 2D projection of a coordinate attribute where the pieces are defined by connectivity and manipulated by separator edges or islands attributes if needed."]}, {"body": [{"body": [{"indent": 4, "type": "para", "extent": [2511, 2562], "text": [{"text": "", "fullpath": "/images/uv/uvlayout_3d_packing_top.jpg", "scheme": "Image", "type": "link", "value": "/images/uv/uvlayout_3d_packing_top.jpg"}]}], "indent": 0, "role": "item", "type": "col", "extent": [2505, 2511]}, {"body": [{"indent": 4, "type": "para", "extent": [2568, 2623], "text": [{"text": "", "fullpath": "/images/uv/uvlayout_3d_packing_persp.jpg", "scheme": "Image", "type": "link", "value": "/images/uv/uvlayout_3d_packing_persp.jpg"}]}], "indent": 0, "role": "item", "type": "col", "extent": [2562, 2568]}], "container": true, "role": "item_group", "type": "col_group"}], "indent": 0, "level": 2, "text": ["General packing"], "extent": [1871, 1903], "container": true, "type": "h", "id": "general"}, {"body": [{"body": [{"body": [{"body": [{"indent": 4, "type": "para", "extent": [2692, 2874], "text": ["The name of the attribute to use for the texutre coordinates. Usually this is ", {"text": ["uv"], "type": "code"}, ". If you're layering multiple UVs on the same geometry, you can enter a custom attribute name."]}, {"indent": 4, "type": "para", "extent": [2874, 3021], "text": ["(If you're using this node to do general layout in 3D, you could use ", {"text": ["P"], "type": "code"}, " to project the model\u2019s point positions down onto the packing plane.)"]}], "indent": 0, "text": ["UV Attribute"], "role": "item", "attrs": {"id": "uvattrib"}, "extent": [2658, 2673], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [3044, 3259], "text": ["If this is blank, the node works on all incoming geometry. You can enter the name of a primitive group, or specify primitives using ", {"fragment": "#manual", "text": ["group syntax"], "value": "/model/groups#manual", "fullpath": "/model/groups#manual", "scheme": null, "type": "link"}, " to operate on only a subet of primitives."]}], "indent": 0, "text": ["Group"], "role": "item", "attrs": {"id": "group"}, "extent": [3021, 3028], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}, {"body": [{"indent": 4, "type": "para", "extent": [3326, 3540], "text": ["You usually don\u2019t need to change these values if you're doing typical UV island packing. However, they can be useful for customizing where things are packed, working around existing data, and general packing."]}, {"indent": 4, "type": "para", "extent": [3540, 3658], "text": ["You can apply target, scale, and offset overrides to islands ", {"fragment": "#state", "text": ["interactively"], "value": "#state", "fullpath": "/nodes/sop/uvlayout#state", "scheme": null, "type": "link"}, " in the node\u2019s viewer state."]}, {"body": [{"indent": 4, "type": "para", "extent": [3685, 3833], "text": ["By default this node defines islands by connectivity of UV attribute values across polygon edges. You can override this using these controls."]}, {"body": [{"body": [{"indent": 8, "type": "para", "extent": [3883, 4002], "text": ["If this field is not empty, the node will use cut the model up into islands using these edges instead of UVs."]}, {"indent": 8, "type": "para", "extent": [4002, 4202], "text": ["You can use the ", {"text": ["Connectivity Tolerance"], "type": "ui"}, " parameter (under Packing > Advanced) to make sure small numerical differences in coordinate values do not separate polygons into different islands."]}], "indent": 4, "text": ["Separator edges"], "role": "item", "attrs": {"id": "separatoredges"}, "extent": [3833, 3854], "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [4249, 4491], "text": ["The name of an integer primitive attribute to use to combine islands. Islands containing polygons with the same value for this attribute will be merged. The \"sub-islands\" will be packed in the same relative position from each other."]}, {"indent": 8, "type": "para", "extent": [4491, 4689], "text": ["Negative values are ignored. Conflicting \"merged\" island numbers on different polygons of the same island are resolved by using the island number from the polygon with the smallest index."]}], "indent": 4, "text": ["Island attribute"], "role": "item", "attrs": {"id": "islandattr"}, "extent": [4202, 4224], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 4, "level": 4, "text": ["Connectivity"], "extent": [3658, 3685], "container": true, "type": "h", "id": null}, {"body": [{"indent": 4, "type": "para", "extent": [4721, 4925], "text": ["When there are multiple packing targets, UV Layout decides the target for each island to optimize packing coverage. These parameters let you force an island to be packed inside a designated target."]}, {"body": [{"body": [{"indent": 8, "type": "para", "extent": [4947, 5114], "text": ["The name of an integer primitive attribute that specifies which target space (rectangle index or UDIM number) the node should pack the polygon\u2019s island into."]}, {"indent": 8, "type": "para", "extent": [5114, 5268], "text": ["Negative values are ignored. If polygons of the same island have different values, the node uses the value from polygon with the smallest index."]}], "indent": 4, "text": ["Target attribute"], "role": "item", "extent": [4925, 4947], "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [5313, 5599], "text": ["A string of space-separated ", {"text": [{"text": ["polygon"], "type": "var"}, ":", {"text": ["target"], "type": "var"}], "type": "code"}, " mappings, where ", {"text": ["polygon"], "type": "var"}, " is the primitive number of one of the polygons in the island you want to assign, and ", {"text": ["target"], "type": "var"}, " specifies which target space (rectangle index or UDIM number) the node should pack the island into."]}, {"indent": 8, "type": "para", "extent": [5599, 5810], "text": ["For example, with UDIM packing, an override string of ", {"text": ["35:1009 15:1002"], "type": "code"}, " means \"pack the island containing polygon 35 into UDIM tile 1009, and pack the island containing polygon 15 into UDIM tile 1002\"."]}, {"indent": 8, "type": "para", "extent": [5810, 5998], "text": ["Later mappings override earlier mappings in the string. So, in the example above, if polygons 35 and 15 both belong to the same island, that island will be packed in tile 1003. "]}], "indent": 4, "text": ["Overrides"], "role": "item", "attrs": {"id": "targetoverrides"}, "extent": [5268, 5283], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 4, "level": 4, "text": ["Target assignment"], "extent": [4689, 4721], "container": true, "type": "h", "id": null}, {"body": [{"indent": 4, "type": "para", "extent": [6029, 6108], "text": ["These parameters allow you to override the scale of individual islands. "]}, {"body": [{"body": [{"indent": 8, "type": "para", "extent": [6136, 6233], "text": ["A floating point primitive attribute that specifies the scale for the polygon\u2019s island."]}, {"indent": 8, "type": "para", "extent": [6233, 6387], "text": ["Negative values are ignored. If polygons of the same island have different values, the node uses the value from polygon with the smallest index."]}], "indent": 4, "text": ["Island scale attribute"], "role": "item", "extent": [6108, 6136], "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [6431, 6678], "text": ["A string of space-separated tokens ", {"text": [{"text": ["polygon"], "type": "var"}, ":", {"text": ["scale"], "type": "var"}], "type": "code"}, " mappings, where ", {"text": ["polygon"], "type": "var"}, " is the primitive number of one of the polygons in the island you want to scale, and ", {"text": ["scale"], "type": "var"}, " is a floating point value to scale the island\u2019s size by."]}, {"indent": 8, "type": "para", "extent": [6678, 6830], "text": ["For example, ", {"text": ["35:1.5 15:0.5"], "type": "code"}, " means \"make the island containing polygon 35 1.5\u00d7 bigger, and make the island containing polygon 15 half as big\"."]}, {"indent": 8, "type": "para", "extent": [6830, 6896], "text": ["Later mappings override earlier mappings in the string."]}], "indent": 4, "text": ["Overrides"], "role": "item", "attrs": {"id": "scaleoverrides"}, "extent": [6387, 6402], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 4, "level": 4, "text": ["Variable scaling"], "extent": [5998, 6029], "container": true, "type": "h", "id": null}, {"body": [{"indent": 4, "type": "para", "extent": [6928, 7104], "text": ["Since UV Layout packs packs 2D profiles of geometries into 2D target domains, the node usually leaves the third (orthogonal) component of input 3D coordinates unchanged."]}, {"indent": 4, "type": "para", "extent": [7104, 7318], "text": ["In a \"general packing\" workflow where you get the targets from geometry in second input, the node increases the third component by the smallest corresponding value in the target in which the island is packed."]}, {"indent": 4, "type": "para", "extent": [7318, 7531], "text": ["For example if the targets are flat parts of stairs whose heights are determined by the Z component, the Z coordinate of each packed geometry is raised to the height of the stair on which which it is packed."]}, {"indent": 4, "type": "para", "extent": [7531, 7696], "text": ["You can uses these controls to add or subtract an offset value for each island to further raise or lower them in the dimension orthogonal to the packing plane."]}, {"body": [{"body": [{"indent": 8, "type": "para", "extent": [7725, 7839], "text": ["A floating point primitive attribute that specifies how much to raise or lower the the polygon\u2019s island."]}, {"indent": 8, "type": "para", "extent": [7839, 7964], "text": ["If polygons of the same island have different values, the node uses the value from polygon with the smallest index."]}], "indent": 4, "text": ["Island Offset Attribute"], "role": "item", "extent": [7696, 7725], "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [8009, 8264], "text": ["A string of space-separated tokens ", {"text": [{"text": ["polygon"], "type": "var"}, ":", {"text": ["offset"], "type": "var"}], "type": "code"}, " mappings, where ", {"text": ["polygon"], "type": "var"}, " is the primitive number of one of the polygons in the island you want to scale, and ", {"text": ["offset"], "type": "var"}, " is a floating point value to offset the island\u2019s \"height\" by."]}], "indent": 4, "text": ["Overrides"], "role": "item", "attrs": {"id": "offsetoverrides"}, "extent": [7964, 7979], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 4, "level": 4, "text": ["Projection offset"], "extent": [6896, 6928], "container": true, "type": "h", "id": null}], "indent": 0, "level": 3, "text": ["Overrides"], "attrs": {"display": "collapsible collapsed"}, "extent": [3259, 3289], "container": true, "type": "h", "id": "overrides"}, {"body": [{"body": [{"indent": 4, "type": "para", "extent": [8307, 8536], "text": ["Re-scales islands to their relative areas measured using the UV attribute match their 3D surface area measured using ", {"text": ["P"], "type": "code"}, ". This means large 3D surfaces will get large UV islands, and small 3D surfaces will get small islands."]}, {"indent": 4, "type": "para", "extent": [8536, 8597], "text": ["(The overrides above are applied after this rescaling.)"]}], "indent": 0, "text": ["Scale Island to Match Their Surface Areas"], "role": "item", "extent": [8264, 8307], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [8614, 8664], "text": ["How/whether to align islands before packing."]}, {"body": [{"body": [{"indent": 8, "type": "para", "extent": [8674, 8734], "text": ["Use the islands as they come with no pre-rotation."]}], "indent": 4, "type": "dt", "extent": [8664, 8674], "text": ["None"]}, {"body": [{"indent": 8, "type": "para", "extent": [8768, 8931], "text": ["Pre-rotate islands based on their shape to turn their \"longest side\" horizontal. This option tries to detect symmetries in the islands and respect them. "]}], "indent": 4, "type": "dt", "extent": [8734, 8768], "text": ["By Island Symmetry (default)"]}, {"body": [{"indent": 8, "type": "para", "extent": [8961, 9093], "text": ["Pre-rotate islands so that the resulting horizontal and vertex UV lines on the surface best align with 3D coordinate axes."]}, {"indent": 8, "type": "para", "extent": [9093, 9438], "text": ["For flat islands parallel to one of the coordinate planes, this should rotate the island for the UV axes to match those of the coordinate plane to which the island is parallel. For curved islands, this option considers the ideal alignment for each polygon of the island and picks one that best agrees with all polygons in the island. "]}], "indent": 4, "type": "dt", "extent": [8931, 8961], "text": ["By Island Position in 3D"]}], "container": true, "type": "dt_group"}], "indent": 0, "text": ["Axis Alignment"], "role": "item", "extent": [8597, 8614], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 2, "text": ["Islands To Pack"], "extent": [2635, 2658], "container": true, "type": "h", "id": null}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "extent": [9460, 9519], "text": ["Controls how the node scales the islands for packing."]}, {"body": [{"body": [{"indent": 8, "type": "para", "extent": [9541, 9633], "text": ["Make islands as large as possible while still fitting them into the given targets."]}], "indent": 4, "type": "dt", "extent": [9519, 9541], "text": ["Largest packable"]}, {"body": [{"indent": 8, "type": "para", "extent": [9644, 9710], "text": ["Specific a fixed scaling factor to apply to all islands."]}], "indent": 4, "type": "dt", "extent": [9633, 9644], "text": ["Fixed"]}], "container": true, "type": "dt_group"}, {"indent": 4, "type": "para", "extent": [9710, 9961], "text": ["If you choose \"Fixed\", islands that fail to pack are lined up outside of the bounding box of the packing targets. You can get a primitive group consisting of the polygons of these \"non-packed\" islands in Output Groups and Attributes (see below)."]}, {"indent": 4, "type": "para", "extent": [9961, 10092], "text": ["When ", {"text": ["Pack into"], "type": "ui"}, " is \"UDIM Tiles\", if you use a fixed scale, the node will fill as many tiles as can fit the scaled islands."]}], "indent": 0, "text": ["Scale"], "role": "item", "extent": [9452, 9460], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [10114, 10462], "text": ["The node can try different island rotations to get better packing (some islands may be able to fit into a smaller available space if they are rotated slightly). Setting this parameter is a tradeoff beween allowing rotations reducing axis alignment, trying more rotations giving more efficient packing, and trying lots of rotations being slow."]}, {"body": [{"body": [{"indent": 8, "type": "para", "extent": [10479, 10569], "text": ["Packs islands using the rotation they get from the ", {"text": ["Axis alignment"], "type": "ui"}, " parameter."]}], "indent": 4, "type": "dt", "extent": [10462, 10479], "text": ["No rotation"]}, {"body": [{"indent": 8, "type": "para", "extent": [10588, 10937], "text": ["Tries rotating the island by this number of derees around a full circle. For example, 180 tries the island two ways (right-side-up and upside-down). 90 tries the island four ways (right-side-up, rotated left, rotated right, and upside-down), and so on. Each choise halves the degrees and so doubles the number of rotations that must tried."]}], "indent": 4, "type": "dt", "extent": [10569, 10588], "text": ["Rotation step"]}, {"body": [{"indent": 8, "type": "para", "extent": [10949, 11018], "text": ["Lets you enter a custom number of divisions of 360 degrees."]}, {"indent": 8, "type": "para", "extent": [11018, 11277], "text": ["Bear in mind that 6 divisions of the circle may result in a packing inferior to 4 (90 degree steps) because only two of the attempted rotations are common and therefore one can not always expect the a tighter packing with 6 rotations compared to 4. "]}], "indent": 4, "type": "dt", "extent": [10937, 10949], "text": ["Custom"]}], "container": true, "type": "dt_group"}], "indent": 0, "text": ["Island Rotation Step"], "role": "item", "extent": [10092, 10114], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [11314, 11682], "text": ["This controls what to do when you use the ", {"text": ["Group"], "type": "ui"}, " field to apply this node to only a subset of the polygons in the input. When this is on, the node attempts to pack the polygons selected by the ", {"text": ["Group"], "type": "ui"}, " field around the other polygons in the input. When this if off (the default), the node will ignore the other polygons, possibly giving overlaps in UV space."]}], "indent": 0, "text": ["Avoid Packing Over Non-Group Island"], "role": "item", "extent": [11277, 11314], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [11724, 11910], "text": ["When this is on (the default), the node will attempt to pack islands inside \"holes\" and concave areas in other islands. Turning this off is faster but gives less efficient packing."]}], "indent": 0, "text": ["Pack Island in Cavities of Other Islands"], "role": "item", "extent": [11682, 11724], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [11926, 11982], "text": ["The amount of padding to use to separates islands."]}, {"indent": 4, "type": "para", "extent": [11982, 12131], "text": ["This number is in \"pixels\" of the ", {"text": ["Search resolution"], "type": "ui"}, " (under Advanced), so changing that number will change the padding distance in UV space."]}], "indent": 0, "text": ["Island Padding"], "role": "item", "extent": [11910, 11926], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [12177, 12361], "text": ["When this is on, padding is added between islands and the edges of the target space. When this is off (the default), islands are packed right up to the edges of the target space."]}], "indent": 0, "text": ["Apply Padding Between Island Target Boundary"], "role": "item", "extent": [12131, 12177], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [12399, 12491], "text": ["Attempts to automatically increase padding so islands spread to cover the target area."]}, {"indent": 4, "type": "para", "extent": [12491, 13081], "text": ["(Normally the packing algorithm bunches up islands in tight corners as it progresses in order to leave as much space as possible for packing of subsequent islands. When this is on, once the packing is achieved, the padding is gradually increased to the maximum possible amount that still allows the same packing coverage. The effect of this is usually to spread the islands around in the available space. Note that this does not guarantee a uniform spreading as the fragmentation of the available space by the packing process can restrict free movement of the islands in some cases.)"]}], "indent": 0, "text": ["Spread Island To All Available Space"], "role": "item", "extent": [12361, 12399], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "extent": [13143, 13421], "text": ["The number of attempts at each scale. Each iteration randomizes the order in which it tries packing the islands, since different orderings can give different layouts. You can often achieve more efficient packing by increasing the iterations, at the cost of slower packing."]}, {"indent": 4, "type": "para", "extent": [13421, 13792], "text": ["The time increase for more iterations is \"sub-linear\", meaning the time to do 100 iterations is less (often much less) than 100\u00d7 the time to do one iteration. However, the improvement given by additional iterations may be marginal. The shape of the islands, particularly long and narrow islands that are hard to pack, can put a hard limit on the packing efficiency."]}], "indent": 0, "text": ["Iterations"], "role": "item", "extent": [13131, 13143], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [13811, 14122], "text": ["The packing algorithm works by building internal \"images\" of islands on a pixel grid. The algorithm then plays a complicated game of Tetris with the islands, packing them into the target areas. This parameter sets the maximum number of pixels on the longest side of the packing image (across all targets)."]}, {"body": [{"body": [{"indent": 8, "type": "para", "extent": [14132, 14427], "text": ["If you are using UV Layout to pack UV islands for a specific texture coordinate, do not set the pixel resolution larger than that of your texture image. Otherwise, when the internal \"image\" is scaled down onto your texture, you may get islands which share pixels in your texture image."]}], "indent": 4, "role": "item", "type": "note", "extent": [14122, 14132]}], "container": true, "role": "item_group", "type": "note_group"}], "indent": 0, "text": ["Search Resolution"], "role": "item", "extent": [13792, 13811], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [14451, 14763], "text": ["Controls how close values in the ", {"text": ["UV Attribute"], "type": "ui"}, " must be to be considered the same value across an edge (and therefore combine the polygons on the two sides of the edge into the same island). If either of U or V value exceeds this limit at either endpoint of the edge, the node treats the edge as a seam. "]}], "indent": 0, "text": ["Connectivity Tolerance"], "role": "item", "extent": [14427, 14451], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [14787, 15055], "text": ["Controls when the node stops searching for a better scale. If the islands can be packed successfully at a given scale, but increasing the scale by less than this amount leads the packing to fail, then the algorithm stops searching for any larger packable scale. "]}], "indent": 0, "text": ["Scale Search Tolerance"], "role": "item", "extent": [14763, 14787], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [15068, 15500], "text": ["When the ", {"text": ["Iterations"], "type": "ui"}, " is greater than 1, the node randomizes the order in which it tries packing the islands. Changing this seed generates different random numbers for the iterations. This can be useful, for example, if you use two different computers to search for a tighter packing, each using a large number of iterations, then you can avoid doing the same search by picking different random seeds for the two machines. "]}], "indent": 0, "text": ["Random Seed"], "role": "item", "extent": [15055, 15068], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 3, "text": ["Advanced"], "attrs": {"display": "collapsible collapsed"}, "extent": [13081, 13098], "container": true, "type": "h", "id": null}], "indent": 0, "level": 2, "text": ["Packing"], "extent": [9438, 9452], "container": true, "type": "h", "id": null}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "extent": [15526, 15549], "text": ["Controls how the "]}, {"body": [{"body": [{"indent": 8, "type": "para", "extent": [15565, 15661], "text": ["Lets you specify one or more square or rectangular areas in the UV plane to pack into."]}], "indent": 4, "type": "dt", "extent": [15549, 15565], "text": ["Rectangles"]}, {"body": [{"indent": 8, "type": "para", "extent": [15677, 15755], "text": ["Lets you specify tiles on the UV plane by their ", {"fragment": "#udim", "text": ["UDIM number"], "value": "#udim", "fullpath": "/nodes/sop/uvlayout#udim", "scheme": null, "type": "link"}, "."]}], "indent": 4, "type": "dt", "extent": [15661, 15677], "text": ["UDIM Tiles"]}, {"body": [{"indent": 8, "type": "para", "extent": [15786, 15888], "text": ["Packs into areas defined by \"islands\" in the geometry connected to this node\u2019s second input."]}], "indent": 4, "type": "dt", "extent": [15755, 15786], "text": ["Islands from second input"]}], "container": true, "type": "dt_group"}], "indent": 0, "text": ["Pack into"], "role": "item", "extent": [15514, 15526], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [15904, 16097], "text": ["If you leave this off, islands will be distributed to targets based on where they fit best. If you turn this on, islands will be packed into this target unless an ", {"fragment": "#overrides", "text": ["overridden"], "value": "#overrides", "fullpath": "/nodes/sop/uvlayout#overrides", "scheme": null, "type": "link"}, "."]}, {"indent": 4, "type": "para", "extent": [16097, 16151], "text": ["This is particularly useful when UDIM packing. "]}], "indent": 0, "text": ["Default Target"], "role": "item", "extent": [15888, 15904], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}, {"body": [{"indent": 0, "type": "para", "extent": [16177, 16246], "text": ["This section is visible when ", {"text": ["Pack into"], "type": "ui"}, " is set to \"Rectangles\"."]}, {"body": [{"body": [{"indent": 4, "type": "para", "extent": [16281, 16509], "text": ["When ", {"text": ["Pack into"], "type": "ui"}, " is set to \"Rectangles\", this multiparm lets you add or remove rectangles. You can specify the position and size of the target area on the UV grid. The default is a single UV unit square from 0,0 to 1,1."]}], "indent": 0, "text": ["Target rectangles"], "role": "item", "attrs": {"id": "rects"}, "extent": [16246, 16265], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 3, "text": ["Target rectangles"], "extent": [16151, 16177], "container": true, "type": "h", "id": null}, {"body": [{"indent": 0, "type": "para", "extent": [16527, 16590], "text": ["This section is visible when ", {"text": ["Pack into"], "type": "ui"}, " is set to \"UDIM\"."]}, {"indent": 0, "type": "para", "extent": [16590, 16663], "text": ["You can use ", {"text": ["Starting UDIM"], "type": "ui"}, " if you need to pack around existing data."]}, {"indent": 0, "type": "para", "extent": [16663, 16973], "text": ["You should not change tile size or number of columns unless you have a good reason. Originally these were flexible (the number of columns was the U DIMension from which the convention gets its name) but they are considered standards and many software packages are hard-coded to use 1\u00d71 tiles with 10 columns."]}, {"body": [{"body": [{"indent": 4, "type": "para", "extent": [16984, 17128], "text": ["The size of UDIM tiles in UV space. Do not change this value unless you have a good reason (for example, compatibility with old textures)."]}], "indent": 0, "text": ["Tile size"], "role": "item", "extent": [16973, 16984], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [17137, 17344], "text": ["The number of columns in which to layout the tile grid. This has been standardized at 10 and is often hard-coded in other software packages. Do not change this value unless you have a very good reason."]}], "indent": 0, "text": ["Columns"], "role": "item", "extent": [17128, 17137], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [17359, 17468], "text": ["The first tile to start packing into. You can use this pack around existing data lower-numbered tiles."]}], "indent": 0, "text": ["Starting UDIM"], "role": "item", "extent": [17344, 17359], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 3, "text": ["Tile grid"], "extent": [16509, 16527], "container": true, "type": "h", "id": null}, {"body": [{"indent": 0, "type": "para", "extent": [17489, 17578], "text": ["These parameters are visible when ", {"text": ["Pack into"], "type": "ui"}, " is set to \"Islands from second input\"."]}, {"body": [{"body": [{"indent": 4, "type": "para", "extent": [17617, 17729], "text": ["Similar to UV Attribute for island specification. This is a point or vertex attribute on the second input."]}], "indent": 0, "text": ["UV Attribute"], "role": "item", "attrs": {"id": "targetuvattrib"}, "extent": [17578, 17592], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [17758, 17995], "text": ["If this is blank, the node works on all incoming geometry from the second input. You can enter the name of a primitive group, or specify primitives using ", {"fragment": "#manual", "text": ["group syntax"], "value": "/model/groups#manual", "fullpath": "/model/groups#manual", "scheme": null, "type": "link"}, " to operate on only a subet of primitives."]}], "indent": 0, "text": ["Group"], "role": "item", "attrs": {"id": "targetgroup"}, "extent": [17729, 17736], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}, {"body": [{"body": [{"body": [{"indent": 8, "type": "para", "extent": [3883, 4002], "text": ["If this field is not empty, the node will use cut the model up into islands using these edges instead of UVs."]}, {"indent": 8, "type": "para", "extent": [4002, 4202], "text": ["You can use the ", {"text": ["Connectivity Tolerance"], "type": "ui"}, " parameter (under Packing > Advanced) to make sure small numerical differences in coordinate values do not separate polygons into different islands."]}], "indent": 4, "text": ["Separator edges"], "role": "item", "attrs": {"id": "targetseparatoredges"}, "extent": [18065, 18086], "type": "parameters_item"}, {"body": [{"indent": 8, "type": "para", "extent": [4249, 4491], "text": ["The name of an integer primitive attribute to use to combine islands. Islands containing polygons with the same value for this attribute will be merged. The \"sub-islands\" will be packed in the same relative position from each other."]}, {"indent": 8, "type": "para", "extent": [4491, 4689], "text": ["Negative values are ignored. Conflicting \"merged\" island numbers on different polygons of the same island are resolved by using the island number from the polygon with the smallest index."]}], "indent": 4, "text": ["Island attribute"], "role": "item", "attrs": {"id": "targetislandattr"}, "extent": [18159, 18181], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 4, "text": ["Connectivity Overrides"], "attrs": {"display": "collapsible collapsed"}, "extent": [17995, 18028], "container": true, "type": "h", "id": null}], "indent": 0, "level": 3, "text": ["Second input"], "extent": [17468, 17489], "container": true, "type": "h", "id": null}], "indent": 0, "level": 2, "text": ["Targets"], "extent": [15500, 15514], "container": true, "type": "h", "id": null}, {"body": [{"indent": 0, "type": "para", "extent": [18269, 18403], "text": ["The controls in this section can detect islands that look the same and stack them over each other, which often saves texture space."]}, {"body": [{"body": [{"indent": 4, "type": "para", "extent": [18409, 18526], "text": ["Island stacking only works on connected islands. You cannot stack islands created by the ", {"text": ["Island Attribute"], "type": "ui"}, ". "]}], "indent": 0, "role": "item", "type": "note", "extent": [18403, 18409]}], "container": true, "role": "item_group", "type": "note_group"}, {"body": [{"body": [{"indent": 4, "type": "para", "extent": [18551, 18608], "text": ["Detect and stack identical islands over each other."]}], "indent": 0, "text": ["Stack identical islands"], "role": "item", "extent": [18526, 18551], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [18632, 18779], "text": ["When ", {"text": ["Stack identical islands"], "type": "ui"}, " is on, also detect islands that would be identical if reflected, mirror one and stanck them over each other."]}], "indent": 0, "text": ["Match Mirrored Islands"], "role": "item", "extent": [18608, 18632], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [18816, 19020], "text": ["When ", {"text": ["Stack identical islands"], "type": "ui"}, " is on, also look at islands that are not selected in the ", {"text": ["Group"], "type": "ui"}, " field, and if one matches a selected island, stack the selected island on the non-selected island."]}, {"indent": 4, "type": "para", "extent": [19020, 19149], "text": ["This is useful if you have prototype island shapes already in place and want to put islands with similar shapes over them. "]}], "indent": 0, "text": ["Allow Stacking on Non-Group islands"], "role": "item", "extent": [18779, 18816], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [19166, 19346], "text": ["When ", {"text": ["Stack identical islands"], "type": "ui"}, " is on, how close the shapes need to be for them to be stacked. You can tweak this number until the islands you want to stack start stacking."]}], "indent": 0, "text": ["Shape tolerance"], "role": "item", "extent": [19149, 19166], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 2, "text": ["Island Stacking"], "extent": [18247, 18269], "container": true, "type": "h", "id": null}, {"body": [{"body": [{"body": [{"indent": 4, "type": "para", "extent": [19402, 19526], "text": ["Output a group containing the polygons of any islands that failed to pack because ", {"text": ["Fixed"], "type": "ui"}, " scaling made them too big."]}], "indent": 0, "text": ["Nonpacked polygons"], "role": "item", "extent": [19381, 19402], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [19541, 19642], "text": ["Add a primitive attribute to each polygon containing the number of the island it was a part of."]}], "indent": 0, "text": ["Island number"], "role": "item", "extent": [19526, 19541], "type": "parameters_item"}, {"body": [{"indent": 4, "type": "para", "extent": [19659, 19763], "text": ["Add a primitive attribute to each polygon containing the number of the target it was packed into."]}], "indent": 0, "text": ["Assigned target"], "role": "item", "extent": [19642, 19659], "type": "parameters_item"}], "container": true, "role": "item_group", "type": "parameters_item_group"}], "indent": 0, "level": 2, "text": ["Output Groups and Attributes"], "extent": [19346, 19381], "container": true, "type": "h", "id": null}], "indent": 0, "level": 1, "text": "Parameters", "role": "section", "extent": [2623, 2635], "container": true, "type": "parameters_section", "id": "parameters"}, {"body": [{"body": [{"indent": 0, "blevel": 2, "type": "bullet", "extent": [19772, 19797], "text": [{"text": "", "fullpath": "/nodes/sop/uvautoseam", "scheme": "Node", "type": "link", "value": "/nodes/sop/uvautoseam"}]}, {"indent": 0, "blevel": 2, "type": "bullet", "extent": [19797, 19820], "text": [{"text": "", "fullpath": "/nodes/sop/uvflatten", "scheme": "Node", "type": "link", "value": "/nodes/sop/uvflatten"}]}, {"indent": 0, "blevel": 2, "type": "bullet", "extent": [19820, 19843], "text": [{"text": "", "fullpath": "/nodes/sop/uvproject", "scheme": "Node", "type": "link", "value": "/nodes/sop/uvproject"}]}, {"indent": 0, "blevel": 2, "type": "bullet", "extent": [19843, 19863], "text": [{"text": "", "fullpath": "/nodes/sop/uvpelt", "scheme": "Node", "type": "link", "value": "/nodes/sop/uvpelt"}]}, {"indent": 0, "blevel": 2, "type": "bullet", "extent": [19863, 19886], "text": [{"text": "", "fullpath": "/nodes/sop/uvunwrap", "scheme": "Node", "type": "link", "value": "/nodes/sop/uvunwrap"}]}], "container": true, "type": "bullet_group"}], "indent": 0, "level": 1, "text": "Related", "role": "section", "extent": [19763, 19772], "container": true, "type": "related_section", "id": "related"}], "summary": ["Packs UV islands efficiently into a limited area."], "type": "root", "attrs": {"version": "3.0", "tags": "uvs, textures, cleanup", "namespace": null, "internal": "uvlayout", "context": "sop", "type": "node", "icon": "SOP/uvlayout"}, "title": ["UV Layout"]}